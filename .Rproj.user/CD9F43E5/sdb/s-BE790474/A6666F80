{
    "contents" : "# Download the data. A full description of this data is available at:\n# http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones\n\n#install/load necessary packages\nlibrary(\"data.table\", lib.loc=\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library\")\nlibrary(\"dplyr\", lib.loc=\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library\")\n\ntemp <- tempfile()\nif(!file.exists(\"./data\")){dir.create(\"./data\")}\nfileUrl <- \"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip\"\ndownload.file(fileUrl,temp ,method=\"curl\")\n\ndateDownloaded <- date()\n\n# Unzip the file to extract the data text files\nunzip(temp, exdir=\"./data\")\n\n# Read data from files into data frames\ntestData <- read.table(\"./data/UCI HAR Dataset/test/X_test.txt\")\ntrainData <- read.table(\"./data/UCI HAR Dataset/train/X_train.txt\")\ntestSubject <- read.table(\"./data/UCI HAR Dataset/test/subject_test.txt\")\ntrainSubject <- read.table(\"./data/UCI HAR Dataset/train/subject_train.txt\")\ntestActivity <- read.table(\"./data/UCI HAR Dataset/test/y_test.txt\")\ntrainActivity <- read.table(\"./data/UCI HAR Dataset/train/y_train.txt\")\nfeatures <- read.table(\"./data/UCI HAR Dataset/features.txt\")\n\n# Extract features as character vector\nfeatures.names <- as.character(features$V2)\n\n# Label the testData and trainData with descriptive variable names from the features.txt file\nsetnames(testData, 1:561, features.names)\nsetnames(trainData, 1:561, features.names)\n\n# extract the rows from the features that corresponds to mean and std\nmeanStd <- features[(regexpr(\"mean\\\\(|std\", features$V2, perl = TRUE) > -1), ]\nmeanStdCols <- meanStd[,1]\n\n# Subset the train and test data sets to extract the same rows for mean and std\ntestData.meanStd <- testData[,meanStdCols]\ntrainData.meanStd <- trainData[,meanStdCols]\n\n# Rename column in testSubject and trainSubject\nnames(testSubject)[1] <- \"user\"\nnames(trainSubject)[1] <- \"user\"\n\n# Rename column in testActivity and trainActivity\nnames(testActivity)[1] <- \"Activity\"\nnames(trainActivity)[1] <- \"Activity\"\n\n#Replace numeric values for activity with descriptive activity names\ntestActivity$Activity[testActivity$Activity == \"1\"] <- \"walking\"\ntestActivity$Activity[testActivity$Activity == \"2\"] <- \"walking_upstairs\"\ntestActivity$Activity[testActivity$Activity == \"3\"] <- \"walking_downstairs\"\ntestActivity$Activity[testActivity$Activity == \"4\"] <- \"sitting\"\ntestActivity$Activity[testActivity$Activity == \"5\"] <- \"standing\"\ntestActivity$Activity[testActivity$Activity == \"6\"] <- \"laying\"\ntrainActivity$Activity[trainActivity$Activity == \"1\"] <- \"walking\"\ntrainActivity$Activity[trainActivity$Activity == \"2\"] <- \"walking_upstairs\"\ntrainActivity$Activity[trainActivity$Activity == \"3\"] <- \"walking_downstairs\"\ntrainActivity$Activity[trainActivity$Activity == \"4\"] <- \"sitting\"\ntrainActivity$Activity[trainActivity$Activity == \"5\"] <- \"standing\"\ntrainActivity$Activity[trainActivity$Activity == \"6\"] <- \"laying\"\n\n\n# combine the user ID's from the testSubject with the testData.meanStd\ntestData.user <- cbind(testSubject, testData.meanStd)\n\n# combine the user ID's from the trainSubject with the trainData.meanStd\ntrainData.user <- cbind(trainSubject, trainData.meanStd)\n\n# combine the activity labels from the testActivity with the testData.user\ntestData.user.activity <- cbind(testActivity, testData.user)\n\n# combine the activity labels from the trainActivity with the trainData.user\ntrainData.user.activity <- cbind(trainActivity, trainData.user)\n\n# combine the trainData and testData sets, and arrange by user ID\nfullData <- rbind(testData.user.activity, trainData.user.activity)\nfullData <- arrange(fullData, user)\n\n\n# Average each variable for each activity for each subject\nby_activity_user <- group_by(fullData, Activity, user)\nfullDataAvg <- by_activity_user %>% summarise_each(funs(mean))\n\n# Need to rename variables to specify that they are averages\nvarNames <- colnames(fullDataAvg)[3:68]\nvarNames <- paste(\"Avg\", varNames, sep=\"\")\nsetnames(fullDataAvg, 3:68, varNames)\n\n# Output fullDataAvg data frame to a file\nwrite.table(fullDataAvg, \"activity recognition tidy data.txt\")",
    "created" : 1434857468778.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "747109219",
    "id" : "A6666F80",
    "lastKnownWriteTime" : 1434859322,
    "path" : "~/Desktop/Jim Stuff/Data Science/Get Data/run analysis/gitRepo/run_analysis.R",
    "project_path" : "run_analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}